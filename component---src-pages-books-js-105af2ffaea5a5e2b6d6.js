(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Jges:function(e,o,t){e.exports={book:"book-module--book--D1hGn",bookCover:"book-module--book-cover--3hUG0",bookCoverMask:"book-module--book-cover-mask--3eE4O",bookCoverImage:"book-module--book-cover-image--6oLa3",bookInfo:"book-module--book-info--2-OY2",bookInfoTitle:"book-module--book-info-title--1e-mA",bookInfoLink:"book-module--book-info-link--2qlxl",bookInfoAuthor:"book-module--book-info-author--2EyRU"}},ZsSW:function(e,o,t){"use strict";t.r(o),t.d(o,"default",(function(){return k})),t.d(o,"pageQuery",(function(){return m}));t("f3/d");var a=t("q1tI"),n=t.n(a),r=t("9JMG"),s=t("vrFN");t("pIFo");function c(e){if(e)return"https://images.weserv.nl?url="+e.replace("https://","")}var l=t("Jges"),i=t.n(l),u=function(e){var o=e.src,t=e.alt,r=Object(a.useState)(),s=r[0],c=r[1];return Object(a.useEffect)((function(){var e;return s&&IntersectionObserver&&(e=new IntersectionObserver((function(t){t.forEach((function(t){(t.intersectionRatio>0||t.isIntersecting)&&(s.src=o,e.unobserve(s))}))}),{threshold:.01,rootMargin:"75%"})).observe(s),function(){e&&e.unobserve&&e.unobserve(s)}}),[o,s]),n.a.createElement("img",{ref:c,alt:t,className:"lazy","data-src":o,onLoad:function(e){e.target.classList.add("loaded"),e.target.classList.remove("lazy")},onError:function(e){e.target.classList.remove("lazy"),e.target.classList.add("has-error")}})};function b(e){var o=e.book,t=o.title,a=o.author,r=o.image,s=o.url;return n.a.createElement("div",{className:i.a.book},n.a.createElement("div",{className:i.a.bookCover},n.a.createElement("div",{className:i.a.bookCoverMask}),n.a.createElement("div",{className:i.a.bookCoverImage},n.a.createElement(u,{src:c(r),alt:t})),n.a.createElement("div",{className:i.a.bookInfo},n.a.createElement("p",{className:i.a.bookInfoTitle},n.a.createElement("a",{href:s,rel:"noopener noreferrer",target:"_blank",className:i.a.bookInfoLink},t)),n.a.createElement("p",{className:i.a.bookInfoAuthor},"——",a))))}function k(e){var o=e.data.allBookJson.group,t=o[0],c=o[1],l=o[2],i=Object(a.useState)("collect"),u=i[0],k=i[1],m=[{status:"collect",books:t.nodes,name:"读过"},{status:"do",books:c.nodes,name:"在读"},{status:"wish",books:l.nodes,name:"想读"}];return n.a.createElement(r.a,null,n.a.createElement(s.a,{title:"书单",description:"书单"}),n.a.createElement("div",{className:"books"},n.a.createElement("div",{style:{textAlign:"left"}},n.a.createElement("div",{className:"books-btn-group"},m.map((function(e,o){var t=e.books,a=e.status,r=e.name;return n.a.createElement("button",{onClick:function(){return k(a)},key:o,className:"btn "+(u===a?"btn__active":"")},r," • ",t.length)})))),n.a.createElement("div",null,m.map((function(e,o){var t=e.books,a=e.status;return n.a.createElement("div",{className:"books-wrapper books-"+a+" "+(u===a?"active":""),key:o},t.map((function(e){return n.a.createElement("div",{className:"book-container",key:e.id},n.a.createElement(b,{key:e.id,book:e}))})))})))))}var m="1747276287"}}]);
//# sourceMappingURL=component---src-pages-books-js-105af2ffaea5a5e2b6d6.js.map