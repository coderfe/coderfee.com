{"version":3,"sources":["webpack:///./src/components/chart/WorldCloud.js","webpack:///./node_modules/core-js/modules/es6.reflect.get.js","webpack:///./node_modules/core-js/modules/es6.number.is-nan.js","webpack:///./node_modules/core-js/modules/es6.number.parse-int.js","webpack:///./node_modules/core-js/modules/es6.math.sign.js","webpack:///./node_modules/core-js/modules/es6.weak-map.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/pages/year.js","webpack:///./node_modules/core-js/modules/es6.typed.data-view.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/_parse-int.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/modules/_collection-weak.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./src/components/chart/LineChart.js","webpack:///./node_modules/core-js/modules/_math-sign.js","webpack:///./node_modules/core-js/modules/_is-integer.js"],"names":["WordCloud","render","this","props","data","width","height","Shape","registerShape","drawShape","cfg","container","attrs","Object","assign","style","fillOpacity","opacity","fontSize","origin","_origin","size","rotate","text","textAlign","fontFamily","font","fill","color","textBaseline","getTextAttrs","addShape","x","y","dv","DataSet","View","source","range","min","max","transform","type","fields","padding","timeInterval","random","Math","d","value","divisor","scale","nice","showTitle","itemTpl","reflect","position","shape","tooltip","React","Component","gOPD","getPrototypeOf","has","$export","isObject","anObject","S","get","target","propertyKey","desc","proto","receiver","arguments","length","f","undefined","call","isNaN","number","$parseInt","F","Number","parseInt","sign","InternalMap","global","each","redefine","meta","weak","validate","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","getWeak","isExtensible","uncaughtFrozenStore","ufstore","wrapper","methods","key","_i","set","def","$WeakMap","module","exports","getConstructor","prototype","NEED","method","a","b","_f","result","$find","KEY","forced","Array","P","findIndex","callbackfn","Year","allBookJson","allBooks","group","allBookTags","distinct","allMovieJson","allMovie","allMovieTag","books","queryBooks","lineChartData","groupByMonth","wordCloudData","groupByTag","movies","movieLineChartData","movieWordCloudData","year","Date","getFullYear","seoTitle","pageTitle","process","browser","cols","month","alias","acc","allCommitsJson","pageQuery","from","Set","map","date","filter","book","allTags","tag","count","tags","includes","category","edges","edge","nodes","reduce","prev","concat","G","W","ABV","DataView","init","byteOffset","fails","defined","quot","createHTML","string","attribute","String","p1","replace","NAME","exec","O","test","toLowerCase","split","$trim","trim","ws","hex","str","radix","redefineAll","anInstance","forOf","createArrayMethod","$has","arrayFind","arrayFindIndex","id","that","_l","UncaughtFrozenStore","findUncaughtFrozen","store","it","entry","push","index","splice","IS_MAP","ADDER","C","iterable","_t","isInteger","LineChart","placeholder","forceFit","name","title","tickLine","line","stroke","grid","shadowColor","shadowBlur","shadowOffsetY","floor","isFinite"],"mappings":"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","file":"component---src-pages-year-js-d3d4d7bc300db9efa9eb.js","sourcesContent":["import DataSet from '@antv/data-set';\nimport { Chart, Coord, Geom, Shape, Tooltip } from 'bizcharts';\nimport React from 'react';\n\nclass WordCloud extends React.Component {\n  render() {\n    const { data, width = 1200, height = 800 } = this.props;\n\n    function getTextAttrs(cfg) {\n      return Object.assign({}, cfg.style, {\n        fillOpacity: cfg.opacity,\n        fontSize: cfg.origin._origin.size,\n        rotate: cfg.origin._origin.rotate,\n        text: cfg.origin._origin.text,\n        textAlign: 'center',\n        fontFamily: cfg.origin._origin.font,\n        fill: cfg.color,\n        textBaseline: 'Alphabetic',\n      });\n    } // 给point注册一个词云的shape\n\n    Shape.registerShape('point', 'cloud', {\n      drawShape(cfg, container) {\n        const attrs = getTextAttrs(cfg);\n        return container.addShape('text', {\n          attrs: Object.assign(attrs, {\n            x: cfg.x,\n            y: cfg.y,\n          }),\n        });\n      },\n    });\n    const dv = new DataSet.View().source(data);\n    const range = dv.range('value');\n    const min = range[0];\n    const max = range[1];\n    dv.transform({\n      type: 'tag-cloud',\n      fields: ['x', 'value'],\n      size: [width, height],\n      font: 'Verdana',\n      padding: 0,\n      timeInterval: 5000,\n\n      // max execute time\n      rotate() {\n        let random = ~~(Math.random() * 4) % 4;\n\n        if (random === 2) {\n          random = 0;\n        }\n\n        return random * 90; // 0, 90, 270\n      },\n\n      fontSize(d) {\n        if (d.value) {\n          const divisor = max - min !== 0 ? max - min : 1;\n          return ((d.value - min) / divisor) * (80 - 24) + 24;\n        }\n\n        return 0;\n      },\n    });\n    const scale = {\n      x: {\n        nice: false,\n      },\n      y: {\n        nice: false,\n      },\n    };\n    return (\n      <div>\n        <Chart\n          width={width}\n          height={height}\n          data={dv}\n          scale={scale}\n          padding={0}\n        >\n          <Tooltip\n            showTitle={false}\n            itemTpl={'<li data-index={index}>{value}</li>'}\n          />\n          <Coord reflect=\"y\" />\n          <Geom\n            type=\"point\"\n            position=\"x*y\"\n            color=\"category\"\n            shape=\"cloud\"\n            tooltip=\"value\"\n          />\n        </Chart>\n      </div>\n    );\n  }\n}\n\nexport default WordCloud;\n","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import { graphql } from 'gatsby';\nimport React from 'react';\nimport LineChart from '../components/chart/LineChart';\nimport WordCloud from '../components/chart/WorldCloud';\nimport Layout from '../components/layout/Layout';\nimport allCommitsJson from '../data/github.json';\n\nexport default function Year({ data }) {\n  const { group: allBooks, distinct: allBookTags } = data.allBookJson;\n  const { group: allMovie, distinct: allMovieTag } = data.allMovieJson;\n\n  const books = queryBooks(allBooks);\n  const lineChartData = groupByMonth(books);\n  const wordCloudData = groupByTag(books, allBookTags);\n\n  const movies = queryBooks(allMovie);\n  const movieLineChartData = groupByMonth(movies);\n  const movieWordCloudData = groupByTag(movies, allMovieTag);\n\n  const year = new Date().getFullYear();\n\n  return (\n    <Layout seoTitle={'2019'} pageTitle={`break 2019; goto ${year};`}>\n      {process.browser && (\n        <>\n          <LineChart\n            data={lineChartData}\n            cols={{\n              month: {\n                alias: '月份',\n              },\n              acc: {\n                alias: '阅读量',\n              },\n            }}\n          />\n\n          <LineChart\n            data={movieLineChartData}\n            cols={{\n              month: {\n                alias: '月份',\n              },\n              acc: {\n                alias: '阅片量',\n              },\n            }}\n          />\n\n          <LineChart\n            data={allCommitsJson}\n            cols={{\n              month: {\n                alias: '月份',\n              },\n              acc: {\n                alias: 'commits',\n              },\n            }}\n          />\n\n          <WordCloud height={400} data={wordCloudData} />\n\n          <WordCloud height={200} data={movieWordCloudData} />\n        </>\n      )}\n    </Layout>\n  );\n}\n\nexport const pageQuery = graphql`\n  query BooksChartQuery {\n    allBookJson(\n      filter: { date: { gt: \"2019-01-01\" }, status: { eq: \"collect\" } }\n    ) {\n      group(field: date) {\n        nodes {\n          title\n          tags\n          date(formatString: \"YYYY-MM\")\n        }\n      }\n      distinct(field: tags)\n    }\n    allMovieJson(filter: { status: { eq: \"collect\" } }) {\n      group(field: date) {\n        nodes {\n          title\n          tags\n          date(formatString: \"YYYY-MM\")\n        }\n      }\n      distinct(field: tags)\n    }\n  }\n`;\n\nfunction groupByMonth(books) {\n  const months = Array.from(new Set(books.map(b => b.date)));\n\n  return months.map(month => ({\n    month: month,\n    acc: books.filter(book => book.date === month).length,\n  }));\n}\n\nfunction groupByTag(books, allTags) {\n  return allTags.map(tag => {\n    const count = books.filter(book => book.tags.includes(tag)).length;\n    return {\n      x: tag,\n      value: count,\n      category: tag,\n    };\n  });\n}\n\nfunction queryBooks(edges) {\n  return edges\n    .map(edge => edge.nodes)\n    .reduce((prev, acc) => {\n      return prev.concat(acc);\n    }, []);\n}\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","import React from 'react';\nimport { Chart, Axis, Tooltip, Geom } from 'bizcharts';\n\nexport default function LineChart({ data, cols }) {\n  return (\n    <Chart placeholder height={400} data={data} scale={cols} forceFit>\n      <Axis\n        name=\"month\"\n        title={null}\n        tickLine={null}\n        line={{\n          stroke: '#E6E6E6',\n        }}\n      />\n      <Axis name=\"acc\" line={false} tickLine={null} grid={null} title={null} />\n      <Tooltip />\n      <Geom\n        type=\"line\"\n        position=\"month*acc\"\n        size={2}\n        color=\"l (270) 0:rgba(255, 146, 255, 1) .5:rgba(100, 268, 255, 1)\n            1:rgba(215, 0, 255, 1)\"\n        shape=\"smooth\"\n        style={{\n          shadowColor: 'l (270) 0:rgba(21, 146, 255, 0)',\n          shadowBlur: 60,\n          shadowOffsetY: 6,\n        }}\n      />\n    </Chart>\n  );\n}\n","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n"],"sourceRoot":""}