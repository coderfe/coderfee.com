{"version":3,"sources":["webpack:///./src/templates/blog-post.module.css","webpack:///./src/components/post/RelatedPosts.jsx","webpack:///./src/components/post/NextAndPrevPosts.jsx","webpack:///./src/templates/blog-post.js"],"names":["module","exports","RelatedPostsContainer","styled","div","Title","relatedPosts","posts","length","style","writingMode","marginLeft","map","post","to","node","frontmatter","path","key","title","BlogPostLinkContainer","Prev","Next","NextAndPrevPosts","previous","next","cover","direction","bg","BlogPostTemplate","data","pageContext","markdownRemark","tldr","date","tags","handleKeyup","useCallback","event","keyCode","toast","navigate","useEffect","window","addEventListener","removeEventListener","Layout","seoTitle","seoDescription","meta","name","content","join","display","gridTemplateColumns","className","styles","blogPost","blogPostTitle","timeToRead","tag","index","blogPostQuote","blogPostContent","dangerouslySetInnerHTML","__html","html","pageQuery"],"mappings":"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","file":"component---src-templates-blog-post-js-528afdc6587692f5f337.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"blogPost\":\"blog-post-module--blog-post--3ZL9A\",\"blogPostTitle\":\"blog-post-module--blog-post-title--wqg1S\",\"blogPostQuote\":\"blog-post-module--blog-post-quote--2EizW\",\"blogPostContent\":\"blog-post-module--blog-post-content--3R5oz\",\"blogPostWrapper\":\"blog-post-module--blog-post-wrapper--6dwac\",\"blogPostAside\":\"blog-post-module--blog-post-aside--1loZt\"};","import React from 'react';\nimport { Link } from 'gatsby';\nimport styled from 'styled-components';\n\nconst RelatedPostsContainer = styled.div`\n  padding: 2rem;\n  text-align: left;\n  font-family: var(--serif-font);\n\n  @media screen and (max-width: 1200px) {\n    display: none;\n  }\n\n  a {\n    position: relative;\n    display: block;\n    padding: 12px 3px;\n    text-decoration: none;\n    color: var(--primary-light-color);\n    transition: var(--base-transition);\n  }\n  a::before {\n    display: block;\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 2px;\n    width: 1px;\n    height: 100%;\n    background: var(--primary-light-color);\n  }\n  a:hover {\n    color: var(--primary-color);\n  }\n  a:hover::before {\n    background-color: var(--primary-color);\n  }\n`;\n\nconst Title = styled.div`\n  padding-left: 3px;\n  color: var(--primary-light-color);\n  border-bottom: 1px solid var(--primary-light-color);\n`;\n\nexport default function relatedPosts({ posts }) {\n  return posts.length > 0 ? (\n    <RelatedPostsContainer>\n      <Title>相关阅读</Title>\n      <div style={{ writingMode: 'vertical-rl', marginLeft: '-2px' }}>\n        {posts.map(post => {\n          return (\n            <Link to={post.node.frontmatter.path} key={post.node.frontmatter.path}>\n              {post.node.frontmatter.title}\n            </Link>\n          );\n        })}\n      </div>\n    </RelatedPostsContainer>\n  ) : null;\n}\n","import React from 'react';\nimport AniLink from 'gatsby-plugin-transition-link/AniLink';\nimport styled from 'styled-components'\n\nconst BlogPostLinkContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  \n  @media screen and (max-width: 447px) {\n    flex-direction: column;\n  }\n  \n  a,\n  a {\n    display: block;\n    color: var(--primary-light-color);\n    text-decoration: none;\n    transition: var(--base-transition);\n  }\n  \n  a:hover,\n  a:hover {\n    color: var(--primary-color);\n    text-decoration: underline;\n    transform: translateX(0);\n  }\n`;\n\nconst Prev = styled.div`\n  margin-top: 1rem;\n  text-align: left;\n  a {\n    transform: translateX(10px);\n  }\n`;\n\nconst Next = styled.div`\n  text-align: right;\n  margin-top: 1rem;\n  a {\n    transform: translateX(-10px);\n  }\n`;\n\nexport default function NextAndPrevPosts({ previous, next }) {\n  return (\n    <BlogPostLinkContainer>\n      <Prev>\n        {previous && (\n          <AniLink\n            cover\n            direction=\"left\"\n            bg=\"var(--primary-light-color)\"\n            title={previous.frontmatter.title}\n            to={previous.frontmatter.path}\n          >\n            ←{previous.frontmatter.title}\n          </AniLink>\n        )}\n      </Prev>\n      <Next>\n        {next && (\n          <AniLink\n            cover\n            direction=\"right\"\n            bg=\"var(--primary-light-color)\"\n            title={next.frontmatter.title}\n            to={next.frontmatter.path}\n          >\n            {next.frontmatter.title}→\n          </AniLink>\n        )}\n      </Next>\n    </BlogPostLinkContainer>\n  )\n}","import { graphql, navigate } from 'gatsby';\nimport React, { useCallback, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport Layout from '../components/layout/Layout';\nimport styles from './blog-post.module.css';\nimport RelatedPosts from '../components/post/RelatedPosts';\nimport NextAndPrevPosts from '../components/post/NextAndPrevPosts';\n\nexport default function BlogPostTemplate({ data, pageContext }) {\n  const { markdownRemark: post } = data;\n  const { next, previous, relatedPosts } = pageContext;\n\n  const { title, tldr, date, tags } = post.frontmatter;\n\n  const handleKeyup = useCallback(\n    event => {\n      if (event.keyCode === 37) {\n        // <-\n        if (previous) {\n          toast(`⬅️ ${previous.frontmatter.title}`);\n          navigate(previous.frontmatter.path);\n        }\n      } else if (event.keyCode === 39) {\n        // ->\n        if (next) {\n          toast(`➡️ ${next.frontmatter.title}`);\n          navigate(next.frontmatter.path);\n        }\n      }\n    },\n    [next, previous]\n  );\n\n  useEffect(() => {\n    window.addEventListener('keyup', handleKeyup);\n\n    return () => {\n      window.removeEventListener('keyup', handleKeyup);\n    };\n  }, [handleKeyup]);\n\n  return (\n    <Layout seoTitle={title} seoDescription={tldr} meta={[{ name: `keyword`, content: (tags || []).join(' ') }]}>\n      <div\n        style={{\n          display: 'grid',\n          gridTemplateColumns: '1fr auto',\n        }}\n      >\n        <article className={styles.blogPost}>\n          <h1 className={styles.blogPostTitle}>{title}</h1>\n          <div className=\"post-title_sub\">\n            <span>{date}</span>\n            <span>{post.timeToRead}min</span>\n            {tags &&\n              tags.map((tag, index) => (\n                <span className=\"sub-tag\" key={index}>\n                  #{tag}#\n                </span>\n              ))}\n          </div>\n          <blockquote className={styles.blogPostQuote}>{tldr}</blockquote>\n          <div className={styles.blogPostContent} dangerouslySetInnerHTML={{ __html: post.html }} />\n\n          <NextAndPrevPosts next={next} previous={previous} />\n\n        </article>\n        <RelatedPosts posts={relatedPosts} />\n      </div>\n    </Layout>\n  );\n}\n\nexport const pageQuery = graphql`\n  query($path: String!) {\n    markdownRemark(frontmatter: { path: { eq: $path } }) {\n      html\n      tableOfContents(maxDepth: 6, pathToSlugField: \"frontmatter.path\")\n      frontmatter {\n        path\n        date(formatString: \"MMM DD, YYYY\")\n        title\n        tldr\n        tags\n      }\n      timeToRead\n    }\n  }\n`;\n"],"sourceRoot":""}