{"componentChunkName":"component---src-templates-blog-post-js","path":"/use-lets-encrypt-in-wordpress","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>原文链接：<a href=\"http://code.tutsplus.com/tutorials/using-lets-encrypt-ssl-with-your-wordpress-project--cms-22303\">Using Let's Encrypt SSL With Your WordPress Project</a></p>\n</blockquote>\n<h2>什么是 Let's Encrypt？</h2>\n<p>多年来购买、更新、安装以及管理 SSL 证书，其昂贵的价格和复杂性让我不知所措。现在， <a href=\"https://letsencrypt.org\">Let's Encrypt</a> 使得它相当简单而且免费。</p>\n<p>Let's Encrypt 是由加州公益组织称为互联网安全研究小组带来的新兴的、自由的、自动化的、开放的证书颁发机构，它也有非营利性的成分。</p>\n<p>它的目标是让 HTTPS 成为浏览器的默认协议，从而更好地确网络保隐私和安全。 Mozilla 和 Electronic Frontier Foundation（电子前沿基金会） 是它的两个主要赞助商：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/sponsors.jpg\" alt=\"Whats Lets Encrypt Platinum sponsors\"></p>\n<p>Let's Encrypt 在十二月进入公测, 所以现在我能很容易地指导你去探索它的服务。</p>\n<p>在这篇教程中, 我将带你在我的几个网站中安装 Let's Encrypt , 包括我的 WordPress 咨询网站, <a href=\"http://lookahead.io\">http://lookahead.io</a> 很快就会成为 <a href=\"https://lookahead.io\">https://lookahead.io</a> 。</p>\n<p>在我们开始之前，请记住，我会参与下面的讨论。如果你有问题或者建议，请在下面发表评论或者  <a href=\"https://twitter.com/intent/user?screen_name=reifman\">contact me on Twitter @reifman</a>.</p>\n<h2>Let's Encrypt 功能总结</h2>\n<p>Let’s Encrypt 运行在使用 Python 的 Apache 服务器上，以此来实现自动注册和更新证书，简化了网站激活 HTTPS 的过程，包括 WordPress 。</p>\n<p>这里有 Let's Encrypt 的主要优势:</p>\n<ul>\n<li><strong>免费：</strong> 任何一个域名都可以无成本地注册一个受信任的证书。</li>\n<li><strong>自动：</strong> 一个 Apache Web 服务器可以轻松获得证书, 安全配置, 并且自动管理更新。</li>\n<li><strong>安全：</strong> 无论是作为一个证书颁发机构，还是帮助维护服务器上的网站安全，Let’s Encrypt 将推动 TLS 安全最佳实践。</li>\n<li><strong>透明：</strong> 证书的所有交易记录公开，并且可供查阅。</li>\n<li><strong>开放：</strong> 自动发布和更新协议将作为一个开放的标准。</li>\n<li><strong>协作：</strong> Let’s Encrypt 是社区的努力，造福每一个人。</li>\n</ul>\n<h2>使用 Let's Encrypt 安装 SSL</h2>\n<p>让我们开始，通过更新我的服务器，Apache Ubuntu。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get update</code></pre></div>\n<p>如果你没有在你的服务器上安装 Git，用 Git 来安装 Let's Encrypt 是最好的：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install git</code></pre></div>\n<p>一旦安装完，把 <a href=\"https://github.com/letsencrypt/letsencrypt\">Let's Encrypt software</a> 克隆到 Apache 第三方应用程序的 opt 子目录下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo git clone https://github.com/letsencrypt/letsencrypt /opt/letsencrypt</code></pre></div>\n<p>首先，我将在 Fever 新闻阅读器上尝试安装 Let's Encrypt，而不是 WordPress。我把它托管在 <a href=\"http://fever.lookahead.io\">http://fever.lookahead.io</a> ：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd /opt/letsencrypt\n./letsencrypt-auto --apache -d fever.lookahead.io</code></pre></div>\n<h3>设置向导</h3>\n<p>开始时， 会要求填写电子邮件：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/email%20addr.jpg\" alt=\"Lets Encrypt Installation Email Request\"></p>\n<p>然后显示服务条款：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/install%20-%20tos.jpg\" alt=\"Lets Encrypt Installation Terms of Service\"></p>\n<p>Let's Encrypt 给你提供了将 HTTPS 作为第二选项，或者直接使用 HTTPS 将接管所有流量的连个选项：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/install%20-%20exclusive.jpg\" alt=\"Lets Encrypt Select HTTPS mode\"></p>\n<p>你在几分钟内搞定：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/install%20-%20congrats.jpg\" alt=\"Lets Encrypt Congratulations\"></p>\n<p>你也会看到一些证书到期和更新的信息：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">IMPORTANT NOTES:\n - Congratulations! Your certificate and chain have been saved at\n   /etc/letsencrypt/live/lookahead.io/fullchain.pem. Your cert will\n   expire on 2016-05-03\\. To obtain a new version of the certificate in\n   the future, simply run Let&#39;s Encrypt again.\n - Your account credentials have been saved in your Let&#39;s Encrypt\n   configuration directory at /etc/letsencrypt. You should make a\n   secure backup of this folder now. This configuration directory will\n   also contain certificates and private keys obtained by Let&#39;s\n   Encrypt so making regular backups of this folder is ideal.\n - If you like Let&#39;s Encrypt, please consider supporting our work by:\n\n   Donating to ISRG / Let&#39;s Encrypt:   https://letsencrypt.org/donate\n   Donating to EFF:                    https://eff.org/donate-le</code></pre></div>\n<h3>在 WordPress 上安装</h3>\n<p>在我的 WordPress 咨询网站安装 Let's Encrypt SSL，同样非常简单。只有那么一丢丢地不同，我想让 Let's Encrypt 能更好地支持 www 子域名：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd /opt/letsencrypt\n./letsencrypt-auto --apache -d lookahead.io -d www.lookahead.io</code></pre></div>\n<p>你现在可以去访问了，是 HTTP 或者 HTTPS， 将会在这里终结，<a href=\"https://lookahead.io\">https://lookahead.io</a> ：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/lookahead%20home.jpg\" alt=\"Lets Encrypt Lookahead Consulting\"></p>\n<h3>SSL 报告</h3>\n<p>你可以去类似 <a href=\"https://www.ssllabs.com\">Qualys SSL Labs</a> 的网站来获得你的网站的 SSL 报告。</p>\n<p><a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=fever.lookahead.io\">https://www.ssllabs.com/ssltest/analyze.html?d=fever.lookahead.io</a></p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/qs%20-%20ssl.jpg\" alt=\"Lets Encrypt SSL Qualys Labs\"></p>\n<p>这儿是认证页面：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/ssl-auth.jpg\" alt=\"Lets Encrypt SSL Qualys Labs Authentication\"></p>\n<h3>证书自动更新</h3>\n<p>自动更新也相当简单。首先，我们获取更新脚本，并赋予它执行权限：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo curl -L -o /usr/local/sbin/le-renew http://do.co/le-renew\nsudo chmod +x /usr/local/sbin/le-renew</code></pre></div>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/auto%20renewal.jpg\" alt=\"Lets Encrypt Set up auto renewals\"></p>\n<p>让后为每个域名运行这个脚本：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo le-renew lookahead.io\nChecking expiration date for fever.lookahead.io...\nThe certificate is up to date, no need for renewal (89 days left).</code></pre></div>\n<p>你可以设置一个 cron job 来有规律地运行：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">crontab -e</code></pre></div>\n<p>添加这行：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">30 2 * * 1 /usr/local/sbin/le-renew lookahead.io &gt;&gt; /var/log/le-renew.log</code></pre></div>\n<h3>故障排除</h3>\n<p>我想分享一下我遇到的问题，当我为 <a href=\"http://communitystarter.org\">Community Starter open-source project</a> （都是根域名和 www）安装 SSL 时，Let's Encrypted 给出这个错误：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">We were unable to find a vhost with a ServerName or Address of\n    │ www.communitystarter.org.\n    │ Which virtual host would you like to choose?</code></pre></div>\n<p>我在配置文件里设置了一个通配符别名：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;VirtualHost *:80&gt;\n        ServerName communitystarter.org\n        ServerAlias *.communitystarter.org\n        DocumentRoot /var/www/communitystarter/</code></pre></div>\n<p>这个变化修复了它，为 www 增加一个别名：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;VirtualHost *:80&gt;\n        ServerName communitystarter.org\n        ServerAlias www.communitystarter.org\n        ServerAlias *.communitystarter.org\n        DocumentRoot /var/www/communitystarter/</code></pre></div>\n<p>然后，主页嵌入 Vimeo 视频失败：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/no%20video.jpg\" alt=\"Lets Encrypt Vimeo Not Working with HTTPS\"></p>\n<p>我不得不使 iframe 里的 Vimeo 播放器使用 HTTPS：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;!-- ***************** - START Video - ***************** --&gt;\n&lt;div class=&quot;video-wrap video_left&quot;&gt;\n&lt;div class=&quot;video-main&quot;&gt;\n&lt;div class=&quot;video-frame&quot;&gt;\n&lt;iframe src=&quot;https://player.vimeo.com/video/37639283&quot; title=&quot;introduction to newscloud&#39;s community starter&quot; scrolling=&quot;no&quot; width=&quot;572&quot; height=&quot;312&quot; frameborder=&quot;0&quot; marginheight=&quot;0&quot;&gt;&lt;/iframe&gt;\n&lt;/div&gt;&lt;!-- end video-frame --&gt;\n&lt;/div&gt;&lt;!-- end video-main --&gt;\n&lt;div class=&quot;video-sub&quot;&gt;\n&lt;h2&gt;NewsCloud&#39;s Community Starter&lt;/h2&gt;\n &lt;p&gt;Community Starter is a simple, affordable platform to launch social media communities and extend existing websites. It provides a suite of Facebook-connected interactive features that can help you host a vibrant online community for your neighborhood, topic, community group, nonprofit, membership association or city.&lt;/p&gt;\n&lt;a href=&quot;/how-community-foundations-can-build-engaged-local-communities-with-newscloud.html&quot; class=&quot;ka_button small_button small_tealgrey&quot;&gt;&lt;span&gt;Start your community →&lt;/span&gt;&lt;/a&gt;&lt;br class=&quot;clear&quot; /&gt;\n&lt;/div&gt;&lt;!-- end video-sub --&gt;\n&lt;/div&gt;&lt;!-- end video-wrap --&gt;\n&lt;!-- ***************** - END Video - ***************** --&gt;</code></pre></div>\n<p>问题解决：</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/video%20restored.jpg\" alt=\"Lets Encrypt Vimeo Working with HTTPS\"></p>\n<h2>在结束前</h2>\n<p>我对社区的目标印象非常深刻，Let's Encrypt 提供了质量和便利性。无处不在的网络出版商将从简单免费的 SSL 中获益，感谢 EFF、Mozilla 以及 Let's Encrypt！</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/install%20-%20donate.jpg\" alt=\"Lets Encrypt Donate \"></p>\n<p>您可以捐赠 Let's Encrypt 或者 EFF 来支持这项工作：</p>\n<ul>\n<li><a href=\"https://letsencrypt.org/donate\">直接捐赠 Let's Encrypt</a></li>\n<li><a href=\"https://eff.org/donate-le\">捐赠 EFF</a></li>\n</ul>\n<p>你可以 <a href=\"https://letsencrypt.org/howitworks/\">了解更多关于他们软件的技术细节</a>。Let's Encrypt 也有一个良好的 <a href=\"https://community.letsencrypt.org/\">社区论坛</a>:</p>\n<p><img src=\"https://cms-assets.tutsplus.com/uploads/users/317/posts/22303/image/community%20forum.jpg\" alt=\"Lets Encrypt Community Forum\"></p>\n<h3>下一步？</h3>\n<p>Let's Encrypt 正在积极努力地完成其首次公开发行：</p>\n<blockquote>\n<p>我们还有很多工作要做在我们完全丢弃测试标签之前，特别是在客户端的体验上。自动化是我们策略的基础。我们需要确保广泛的客户端平台平稳可靠运行。</p>\n</blockquote>\n<p>要跟随最新的代码，只要偶尔跟新你的 git 树：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd /opt/letsencrypt\nsudo git pull</code></pre></div>\n<p>我私人的 WordPress 目前运行的是 Varnish 3.x。这与 Let's Encrypt 并不能立即使用，我可能会花一些时间跟踪解决。</p>\n<p>与此同时,如果你正在寻找其他的实用工具来帮助你建立不断增长的 WordPress 代码集或者变得更精通WordPress，别忘了看 <a href=\"http://themeforest.net/category/wordpress\">we have available in Envato Market</a>.</p>\n<p>如果你有问题，请请发表在下面。或者你可以 <a href=\"https://twitter.com/intent/user?screen_name=reifman\">contact me on Twitter @reifman</a>。请访问 <a href=\"http://tutsplus.com/authors/jeff-reifman\">my Envato Tuts+ instructor page</a> 来查看我写的其他教程。例如 <a href=\"http://code.tutsplus.com/tutorials/clone-wordpress-in-linux--cms-25059\">Cloning WordPress in Linux (in 90 seconds)</a>.</p>\n<h2>译者说</h2>\n<p>由于水平受限，文中有不恰当之处，还请读者谅解并在评论中指出，以便改正！</p>","tableOfContents":"<ul>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#%E4%BB%80%E4%B9%88%E6%98%AF-lets-encrypt%EF%BC%9F\">什么是 Let's Encrypt？</a></li>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#lets-encrypt-%E5%8A%9F%E8%83%BD%E6%80%BB%E7%BB%93\">Let's Encrypt 功能总结</a></li>\n<li>\n<p><a href=\"/use-lets-encrypt-in-wordpress/#%E4%BD%BF%E7%94%A8-lets-encrypt-%E5%AE%89%E8%A3%85-ssl\">使用 Let's Encrypt 安装 SSL</a></p>\n<ul>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#%E8%AE%BE%E7%BD%AE%E5%90%91%E5%AF%BC\">设置向导</a></li>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#%E5%9C%A8-wordpress-%E4%B8%8A%E5%AE%89%E8%A3%85\">在 WordPress 上安装</a></li>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#ssl-%E6%8A%A5%E5%91%8A\">SSL 报告</a></li>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#%E8%AF%81%E4%B9%A6%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0\">证书自动更新</a></li>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4\">故障排除</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/use-lets-encrypt-in-wordpress/#%E5%9C%A8%E7%BB%93%E6%9D%9F%E5%89%8D\">在结束前</a></p>\n<ul>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#%E4%B8%8B%E4%B8%80%E6%AD%A5%EF%BC%9F\">下一步？</a></li>\n</ul>\n</li>\n<li><a href=\"/use-lets-encrypt-in-wordpress/#%E8%AF%91%E8%80%85%E8%AF%B4\">译者说</a></li>\n</ul>","frontmatter":{"path":"/use-lets-encrypt-in-wordpress","date":"Aug 11, 2016","title":"『译』在你的 WordPress 项目中使用 Let's Encrypt SSL","tldr":"随着 HTTP2.0 的发展，HTTPS 也变得流行起来，本来想为我的这个博客添加 HTTPS ，但是受限于服务器的原因，不能安装 SSL 证书。这篇文章算是为以后启用 HTTPS 吹响号角吧！","tags":["HTTPS","译文"]},"timeToRead":7}},"pageContext":{"next":{"frontmatter":{"title":"IE8 兼容性总结","path":"/ie8-compatibility"}},"previous":{"frontmatter":{"title":"微信小程序——知乎日报","path":"/wechat-app-first-look"}},"relatedPosts":[{"next":{"frontmatter":{"title":"『书』按下 F5，刷新自己","path":"/2019-01-16-read"}},"previous":{"frontmatter":{"title":"『书』打发地铁通勤时间的书（书摘）","path":"/2019-03"}},"node":{"frontmatter":{"path":"/es2018-new-features","tags":["JavaScript","译文"],"title":"『译』每个 JavaSript 开发者都需要知道的 ES2018 新功能"}}},{"next":{"frontmatter":{"title":"2018 后会无期","path":"/2018"}},"previous":{"frontmatter":{"title":"『书』按下 F5，刷新自己","path":"/2019-01-16-read"}},"node":{"frontmatter":{"path":"/7-ways-of-javascript-function","tags":["JavaScript","译文"],"title":"『译』创建 JavaScript 函数的 7 种方式"}}},{"next":{"frontmatter":{"title":"Vue.js 开发不完全指南","path":"/vuejs-develop-guide"}},"previous":{"frontmatter":{"title":"2018 后会无期","path":"/2018"}},"node":{"frontmatter":{"path":"/handling-errors-in-javascript","tags":["JavaScript","译文"],"title":"『译』JavaScript 错误处理权威指南"}}},{"next":{"frontmatter":{"title":"『译』「Chrome Devtools」网络问题指南","path":"/network-issues-guide"}},"previous":{"frontmatter":{"title":"Vue.js 开发不完全指南","path":"/vuejs-develop-guide"}},"node":{"frontmatter":{"path":"/4-uses-of-array-map","tags":["JavaScript","译文"],"title":"『译』你应该要知道的 Array.map() 的 4 种用法"}}},{"next":{"frontmatter":{"title":"『译』5 个小技巧，让你在 JavaScript 中写出更好的条件语句","path":"/write-better-javascript"}},"previous":{"frontmatter":{"title":"『译』你应该要知道的 Array.map() 的 4 种用法","path":"/4-uses-of-array-map"}},"node":{"frontmatter":{"path":"/network-issues-guide","tags":["Debug","Chrome","译文"],"title":"『译』「Chrome Devtools」网络问题指南"}}},{"next":{"frontmatter":{"title":"8 月随笔","path":"/feelings-in-august"}},"previous":{"frontmatter":{"title":"『译』「Chrome Devtools」网络问题指南","path":"/network-issues-guide"}},"node":{"frontmatter":{"path":"/write-better-javascript","tags":["JavaScript","译文"],"title":"『译』5 个小技巧，让你在 JavaScript 中写出更好的条件语句"}}}]}}}